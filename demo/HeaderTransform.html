<!doctype html>
<html lang=en>

  <head>
    <meta charset=utf-8>
    <title>HeaderTransform</title>
    <link href=http://localhost:8080/wikimedia-page-library-transform.css rel=stylesheet>
    <style>
      :root {
        --control-panel-layout-direction-visibility: visible;
        --control-panel-theme-visibility: visible;
      }
      a {
        text-decoration: none;
      }
      div {
        max-width: 380px;
        margin: 0 auto;

        /* Mimic the constraints of a physical screen by preventing box shadows from spilling out. */
        overflow: hidden;
      }
    </style>
    <script src=https://polygit.org/components/webcomponentsjs/webcomponents-loader.js></script>
    <script src=http://localhost:8080/wikimedia-page-library-transform.js></script>
    <link rel=import href=ControlPanel.html>
  </head>

  <body>
    <control-panel></control-panel>
    <div id=headerGoesHere></div>

    <script>
      /* global pagelib */
      const container = document.querySelector('#headerGoesHere')

      const configurations = [{
        displayTitle: 'A long title of a product in the frozen food section (with description and pronunciation)',
        descriptionEditable: true,
        description: 'frozen food',
        hasPronunciation: true,
        isMainPage: false
      }, {
        displayTitle: 'A page without a description nor pronunciation',
        descriptionEditable: true,
        description: '',
        hasPronunciation: false,
        isMainPage: false
      }, {
        displayTitle: 'A page where the description is not editable nor has it a pronunciation',
        descriptionEditable: false,
        description: '',
        hasPronunciation: false,
        isMainPage: false
      }, {
        displayTitle: 'The main page should have an empty header',
        descriptionEditable: false,
        hasPronunciation: false,
        isMainPage: true
      }]

      /**
       * @return {boolean} true if page is in right-to-left mode
       */
      const isRtl = () => document.querySelector('html').classList.contains('content-rtl')

      configurations.forEach(configuration => {
        const p = document.createElement('p')
        p.innerHTML = `Example header for "${configuration.displayTitle}":`
        container.appendChild(p)
        /* TODO: uncomment this and fix signature with new header code:
        pagelib.EditTransform.newEditLeadSectionHeader(document, configuration.displayTitle,
           configuration.description, 'Add a description', configuration.descriptionEditable,
          configuration.hasPronunciation, configuration.isMainPage, isRtl())
        */
      })
    </script>
  </body>

</html>